<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="HREmployees">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>HREmployees</title>
    <link rel="stylesheet" href="../nicepage.css" media="screen">
<link rel="stylesheet" href="Employees1.1.css" media="screen">
    <script class="u-script" type="text/javascript" src="../jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="../nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.2.6, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"logo": "images/sani-logo.png"
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="HREmployees">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body">
<!--#include file="../Header.shtml" -->
    <section class="u-clearfix u-section-1" id="sec-f26b">
      <div class="u-border-4 u-border-custom-color-2 u-custom-color-1 u-expanded-width u-shape u-shape-rectangle u-shape-1"></div>
      <h1 class="u-text u-text-custom-color-2 u-title u-text-1">
        <span style="font-weight: 700;">Employees</span>
      </h1><span class="u-icon u-icon-circle u-text-custom-color-2 u-icon-1"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 55 55" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-2b6e"></use></svg><svg class="u-svg-content" viewBox="0 0 55 55" x="0px" y="0px" id="svg-2b6e" style="enable-background:new 0 0 55 55;"><path d="M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752
	c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348
	c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98
	c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033
	c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55
	c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287
	c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104
	c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1
	c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764
	l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5
	c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957
	c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545
	c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.52,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8
	s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.346-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545
	c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313
	c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z"></path></svg></span><span class="u-icon u-icon-circle u-text-custom-color-2 u-icon-2"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 55 55" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-2ace"></use></svg><svg class="u-svg-content" viewBox="0 0 55 55" x="0px" y="0px" id="svg-2ace" style="enable-background:new 0 0 55 55;"><path d="M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752
	c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348
	c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98
	c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033
	c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55
	c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287
	c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104
	c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1
	c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764
	l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5
	c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957
	c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545
	c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.52,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8
	s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.346-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545
	c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313
	c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z"></path></svg></span>
      <div class="u-custom-color-3 u-expanded-width u-shape u-shape-rectangle u-shape-2"></div>
      <img class="u-expanded-width u-image u-image-default u-image-1" src="../images/3081176370.png" alt="" data-image-width="1280" data-image-height="859">
      <div class="u-align-center u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-3"></div>
      <h2 class="u-align-left u-subtitle u-text u-text-custom-color-2 u-text-2">
        <span style="font-weight: 700;">Badge:</span>
      </h2>
      <div class="u-align-center u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-4">
        <table class="notranslate time-input">
                <th></th>
                <th>Start Date</th>
                <th>End Date</th>
                <th></th>
            </tr>
            <tr>
                <td><button onclick='changeTime("<")' style='color: black'><</button></td>
                <td><input oninput='getTime()' type="date" id="sdate" size="8" /></td>
                <td><input oninput='getTime()' type="date" id="edate" size="8" /></td>
                <td><button onclick='changeTime(">")'  style='color: black'>></button></td>
            </tr>
        </table>
      </div>
      <a onClick='getTime()' class="u-active-palette-3-dark-1 u-align-center u-border-none u-btn u-btn-round u-button-style u-custom-color-2 u-hover-palette-3-light-1 u-radius-50 u-text-body-alt-color u-btn-1">Submit</a>
      <div class="u-align-left u-palette-1-base u-shape u-shape-rectangle u-shape-5">
        <input id="badge" type="text" class="badge-input">
      </div>
      <div class="u-align-center u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-6 table-scrollable">
        <table class="ws-table-all notranslate" id="time">
        </table>
      </div>
      <div class="u-container-style u-custom-color-1 u-expanded-width u-group u-shape-rectangle u-group-1">
        <div class="u-container-layout u-container-layout-1">
          <img class="u-image u-image-default u-preserve-proportions u-image-2" src="../images/sani-logo.png" alt="" data-image-width="245" data-image-height="144">
        </div>
      </div>
      <div class="u-container-style u-group u-group-2">
        <div class="u-container-layout u-container-layout-2">
          <div class="u-align-center u-border-7 u-border-custom-color-2 u-custom-color-1 u-expanded-width u-shape u-shape-rectangle u-shape-7 table-scrollable">
            <table class="ws-table-all notranslate" id="vacation">
            </table>
          </div>
          <div class="u-align-center u-border-7 u-border-custom-color-2 u-custom-color-1 u-expanded-width u-shape u-shape-rectangle u-shape-8 table-scrollable">
            <table class="ws-table-all notranslate" id="holidays">
            </table>
          </div>
        </div>
      </div>
    </section>
    
    
    <footer class="u-align-center u-black u-clearfix u-footer u-footer" id="sec-3ac3"><div class="u-align-left u-clearfix u-sheet u-sheet-1"></div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
      <a class="u-link" href="https://nicepage.com/templates" target="_blank">
        <span>Templates</span>
      </a>
      <p class="u-text">
        <span>created with</span>
      </p>
      <a class="u-link" href="https://nicepage.com/html-website-builder" target="_blank">
        <span>HTML Designer</span>
      </a>. 
    </section>
  </body>
  <script>
    function changeTime(direction) {
        diff = 14;
        if (direction == '<')
            diff = -14;
        sdate = new Date(document.getElementById('sdate').value);
        edate = new Date(document.getElementById('edate').value);
        sdate.setDate(sdate.getDate() + diff);
        edate.setDate(edate.getDate() + diff);
        document.getElementById("sdate").value = sdate.toISOString().split('T')[0];
        document.getElementById("edate").value = edate.toISOString().split('T')[0];
        getTime();
    }
    function initialize() {
        params = new URLSearchParams(window.location.search);
        r = "https://webtools.sanimatic.local/HR/payPeriod%20.py";
        document.getElementById("badge").value = params.get('badge');
        request = makeHttpObject();
        request.open("GET",r,true);
        request.send(null);
        request.onreadystatechange = function() {
            if (request.readyState == 4) {
                document.getElementById("sdate").value = request.responseText.split(' ')[0];
                document.getElementById("edate").value = request.responseText.split(' ')[1].split('\r')[0];
                getHolidays();
            }
        };
    }
    initialize();
    function getHolidays() {
        r = "https://webtools.sanimatic.local/HR/getHolidays%20.py";
        request = makeHttpObject();
        request.open("GET",r,true);
        request.send(null);
        request.onreadystatechange = function() {
            if (request.readyState == 4) {
                entries = request.responseText.split('\n');
                html = "<tr class='sticky'><th>Date</th><th>Holiday</th></tr>";
                for (let i = 0;i < entries.length - 2; i++){
                    line = entries[i].split(',');
                    html = html + "<tr><td>" + line[0] + "</td><td>" + line[1] + "</td></tr>"
                }
				document.getElementById("holidays").innerHTML = html;
                getTime();
            }
        };
    }
    function getOffTime() {
        r = "https://webtools.sanimatic.local/HR/getEmployeeOfftime%20" + document.getElementById("badge").value + "%20.py";
        request = makeHttpObject();
        request.open("GET",r,true);
        request.send(null);
        request.onreadystatechange = function() {
            if (request.readyState == 4) {
                entries = request.responseText.split('\n');
                html = "<tr class='sticky'><th>Date</th><th>Used Sick</th><th>Remaining Sick</th><th>Used Vac</th><th>Remaining Vac</th></tr>";
                for (let i = 0;i < entries.length - 1; i++){
                    line = entries[i].split(',');
                    html = html + "<tr><td>" + line[0] + "</td><td>" + line[1] + "</td><td>" + line[2] + "</td><td>" + line[3] + "</td><td>" + line[4] + "</td></tr>"
                }
				document.getElementById("vacation").innerHTML = html;
            }
        };
    }
    function getTime() {
        r = "https://webtools.sanimatic.local/HR/getEmployeeTime%20" + document.getElementById("badge").value + "%20" + document.getElementById("sdate").value + "%20" + document.getElementById("edate").value + "%20.py";
        request = makeHttpObject();
        request.open("GET",r,true);
        request.send(null);
        if (document.getElementById("badge").value != '') {
            console.log("'" + document.getElementById("sdate").value + "'");
            if (document.getElementById("sdate").value == '' || document.getElementById("edate").value == ''){
                document.getElementById("time").innerHTML = "<th>Enter valid date</thVy>";
            }
            else{
                request.onreadystatechange = function() {
                    if (request.readyState == 4) {
                        Days = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];
                        html = '<tr>';
                        entries = request.responseText.split('\n');
                        vals = entries[0].split(',');
                        for (let i = 0; i < vals.length; i++){
                            html += '<th class="sticky">' + vals[i] + '</th>';
                        }
                        html += '</th>';
                        for (let i = 1;i < entries.length - 1; i++){
                            vals = entries[i].split(',');
                            html += '<tr>';
                            for (let j = 0;j < vals.length; j++){
                                html += '<td>' + vals[j] + '</td>';
                            }
                            html += '</tr>';
                        }
                        document.getElementById("time").innerHTML = html;
                        getOffTime();
                    }
                };
            }
        }
        else {
            if (document.getElementById("badge").value == ''){
                document.getElementById("time").innerHTML = "<th>Supply Badge</thVy>";
            }
        }

    }
	function makeHttpObject() {
		try {return new XMLHttpRequest();}
		catch (error) {}
		try {return new ActiveXObject("Msxml2.XMLHTTP");}
		catch (error) {}
		try {return new ActiveXObject("Microsoft.XMLHTTP");}
		catch (error) {}
		throw new Error("Could not create HTTP request object.");
	}
  </script>
  <style>
    tr {
    text-align: center;
    }
    .time-input th {
    color: #eda131;
    }
    .badge-input {
    height: 100%;
    width: 100%;
    }
    input {
    color: black;
    }
    .ws-table-all tr:nth-child(even) {
    background-color: #E7E9EB;
    }
    .ws-table-all tr {
    border-bottom: 1px solid #ddd;
    }
    .ws-table-all tr {
    color: black;
    background-color: white;
    display: table-row;
    }
    .ws-table-all {
    color: black;
    border-collapse: collapse;
    border-spacing: 0;
    width: 100%;
    display table;
    border: 1px solid #ccc;
    }
    .table-scrollable {
    height: 100%;
    overflow-y: auto;
    }
    .buttons {
    background-color: white;
    color: black;
    height: 100%;
    }
    .sticky{
    color: black;
    background: white;
    position: sticky;
    top: 0;
    }
  </style>
</html>
