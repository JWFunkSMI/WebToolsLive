<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Human Resourcesâ€‹">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Human resources</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="Human-resources.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.2.6, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"logo": "images/sani-logo.png"
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Human resources">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body"><header class="u-clearfix u-custom-color-1 u-header u-sticky u-sticky-0a29 u-header" id="sec-1e9e"><img class="u-expanded-width u-image u-image-default u-image-1" src="images/water2.png" alt="" data-image-width="1600" data-image-height="618"><a href="https://nicepage.com" class="u-image u-logo u-image-2" data-image-width="245" data-image-height="144">
        <img src="images/sani-logo.png" class="u-logo-image u-logo-image-1">
      </a><nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
        <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px; font-weight: 700; text-transform: uppercase;">
          <a class="u-button-style u-custom-active-border-color u-custom-active-color u-custom-border u-custom-border-color u-custom-borders u-custom-color u-custom-hover-border-color u-custom-hover-color u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
            <svg viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</symbol>
</defs></svg>
          </a>
        </div>
        <div class="u-custom-menu u-nav-container">
          <ul class="u-nav u-spacing-0 u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-border-1 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="Home.html" style="padding: 8px 80px;">Home</a>
</li><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-border-1 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="Human-resources.html" style="padding: 8px 80px;">Human resources</a><div class="u-nav-popup"><ul class="u-border-2 u-border-grey-75 u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-2"><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="Human-resources.html">Employee index</a>
</li><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="Payroll.html">Payroll</a>
</li><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="Check-Codes.html">Check Codes</a>
</li></ul>
</div>
</li><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-border-1 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="IT.html" style="padding: 8px 80px;">IT</a>
</li><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-border-1 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="Materials-Inspection.html" style="padding: 8px 80px;">Materials Inspection</a>
</li><li class="u-nav-item"><a class="u-active-custom-color-5 u-black u-border-1 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-hover-custom-color-2 u-nav-link u-text-hover-black u-text-white" href="Employees.html" style="padding: 8px 80px;">Employees</a>
</li></ul>
        </div>
        <div class="u-custom-menu u-nav-container-collapse">
          <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-inner-container-layout u-sidenav-overflow">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-3"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html" style="padding: 8px 80px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Human-resources.html" style="padding: 8px 80px;">Human resources</a><div class="u-nav-popup"><ul class="u-border-2 u-border-grey-75 u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-4"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Human-resources.html">Employee index</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Payroll.html">Payroll</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Check-Codes.html">Check Codes</a>
</li></ul>
</div>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="IT.html" style="padding: 8px 80px;">IT</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Materials-Inspection.html" style="padding: 8px 80px;">Materials Inspection</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Employees.html" style="padding: 8px 80px;">Employees</a>
</li></ul>
            </div>
          </div>
          <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>
      </nav></header>
    <section class="u-clearfix u-section-1" id="sec-fe77">
      <div class="u-border-4 u-border-custom-color-2 u-custom-color-1 u-expanded-width u-shape u-shape-rectangle u-shape-1"></div>
      <h1 class="u-text u-text-custom-color-2 u-title u-text-1">
        <span style="font-weight: 700;">Human Resources </span>
      </h1>
      <div class="u-custom-color-3 u-expanded-width u-shape u-shape-rectangle u-shape-2"></div>
      <img class="u-image u-image-default u-image-1" src="images/3081176370.png" alt="" data-image-width="1280" data-image-height="859">
      <div class="u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-3"></div>
      <h2 class="u-subtitle u-text u-text-custom-color-2 u-text-2">
        <span style="font-weight: 700;">Employee Index </span>
      </h2>
      <div class="u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-4"></div>
      <h2 class="u-subtitle u-text u-text-custom-color-2 u-text-3">
        <span style="font-weight: 700;">Vacation Time </span>
      </h2>
      <div class="u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-5">
        <table class="ws-table-all notranslate">
            <tr>
                <th>Badge</th>
                <th>PayID</th>
                <th>FName</th>
                <th>LName</th>
                <th>Dept</th>
                <th>Pay</th>
            </tr>
            <tr>
                <td><input oninput='Filter()' type="text" id="fbadge" size="2"/></td>
                <td><input oninput='Filter()' type="text" id="fempID" size="2"/></td>
                <td><input oninput='Filter()' type="text" id="ffname" size="7"/></td>
                <td><input oninput='Filter()' type="text" id="flname" size="7"/></td>
                <td><select oninput='Filter()' id="fdept">
                    <option value="0"></option>
                    <option value="41">Shop</option>
                    <option value="42">MfgAdm</option>
                    <option value="44">FldSvc</option>
                    <option value="61">Sales</option>
                    <option value="71">Engr</option>
                    <option value="72">EngPD</option>
                    <option value="81">GenAdm</option>
                </select></td>
                <td><select oninput='Filter()' id="fpay">
                    <option value=""></option>
                    <option value="hourly">Hourly</option>
                    <option value="daily">Daily</option>
                    <option value="weekly">Weekly</option>
                    <option value="salaried">Salaried</option>
                </select></td>
            </tr>
        </table>
      </div>
      <div class="u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-6 table-scrollable">
        <table class="ws-table-all notranslate" id="employeeList">
        </table>
      </div>
      <div class="u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-7 table-scrollable">
        <table class="ws-table-all notranslate" id="time">
            <tr>
                <th>Badge</th>
                <th>Name</th>
                <th>ES Used</th>
                <th>EP Used</th>
            </tr>
        </table>
      </div>
      <div class="u-border-7 u-border-custom-color-2 u-custom-color-1 u-shape u-shape-rectangle u-shape-8">
        <table class="ws-table-all notranslate">
            <tr>
                <th>Start Date</th>
                <th>End Date</th>
            </tr>
            <tr>
                <td><input oninput='offTime()' type="text" id="sdate" size="8" value="2022-01-01"/></td>
                <td><input oninput='offTime()' type="text" id="edate" size="8" value="2022-12-30"/></td>
            </tr>
        </table>
      </div>
      <div class="u-container-style u-custom-color-1 u-expanded-width u-group u-shape-rectangle u-group-1">
        <div class="u-container-layout u-container-layout-1">
          <img class="u-image u-image-default u-preserve-proportions u-image-2" src="images/sani-logo.png" alt="" data-image-width="245" data-image-height="144">
        </div>
      </div><span class="u-file-icon u-icon u-text-custom-color-2 u-icon-1"><img src="images/1.png" alt=""></span><span class="u-file-icon u-icon u-text-custom-color-2 u-icon-2"><img src="images/2.png" alt=""></span><span class="u-file-icon u-icon u-text-custom-color-2 u-icon-3"><img src="images/3.png" alt=""></span><span class="u-file-icon u-icon u-text-custom-color-2 u-icon-4"><img src="images/3.png" alt=""></span>
    </section>
    
    
    <footer class="u-align-center u-black u-clearfix u-footer u-footer" id="sec-3ac3"><div class="u-align-left u-clearfix u-sheet u-sheet-1"></div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
      <a class="u-link" href="https://nicepage.com/website-templates" target="_blank">
        <span>Website Templates</span>
      </a>
      <p class="u-text">
        <span>created with</span>
      </p>
      <a class="u-link" href="" target="_blank">
        <span>Website Builder Software</span>
      </a>. 
    </section>
  </body>
  <script>
	function makeHttpObject() {
		try {return new XMLHttpRequest();}
		catch (error) {}
		try {return new ActiveXObject("Msxml2.XMLHTTP");}
		catch (error) {}
		try {return new ActiveXObject("Microsoft.XMLHTTP");}
		catch (error) {}
		throw new Error("Could not create HTTP request object.");
	}
    function getAll() {
        r = "http://webtools.sanimatic.local:5001?q=allEmployees";
		var request = makeHttpObject();
		request.open("GET", r, true);
		request.send(null);
		request.onreadystatechange = function() {
            if (request.readyState == 4){
                html = "<tr><th>Badge</th><th>PayID</th><th>Name</th><th>Dept</th><th>Pay</th></tr>";
                console.log(request.responseText);
                entries = request.responseText.split("], [");
                console.log(entries);
                for (let i = 0;i < entries.length; i++){
                    values = entries[i].split(",");
                    html = html + "<tr><td>" + values[0] + "</td><td>" + values[1] + "</td><td>" + values[2] + " " + values[3] + "</td><td>" + values[4] + "</td><td>" + values[5] + "</td></tr>";
                }
				document.getElementById("employeeList").innerHTML = html;
			}
		};
    }
    getAll();
    function Filter() {//TODO: make filter client side
        let badge = document.getElementById("fbadge").value;
        if (badge == '') badge = 'null';
        let empid = document.getElementById("fempID").value;
        if (empid == '') empid = 'null';
        let fname = document.getElementById("ffname").value;
        if (fname == '') fname = 'null';
        let lname = document.getElementById("flname").value;
        if (lname == '') lname = 'null';
        let pay = document.getElementById("fpay").options[document.getElementById("fpay").selectedIndex].text;
        if (pay == '') pay = 'null';
        let dept = document.getElementById("fdept").options[document.getElementById("fdept").selectedIndex].text;
        if (dept == '') dept = 'null';
        r = "http://webtools.sanimatic.local:5001?q=filterEmployees&badge=" + badge + "&empid=" + empid + "&fname=" + fname + "&lname=" + lname + "&pay=" + pay + "&dept=" + dept;
        console.log(r);
		var request = makeHttpObject();
		request.open("GET", r, true);
		request.send(null);
		request.onreadystatechange = function() {
            if (request.readyState == 4){
                html = "<tr><th>Badge</th><th>PayID</th><th>Name</th><th>Dept</th><th>Pay</th></tr>";
                console.log(request.responseText);
                entries = request.responseText.split("], [");
                console.log(entries);
                for (let i = 0;i < entries.length; i++){
                    values = entries[i].split(",");
                    html = html + "<tr><td>" + values[0] + "</td><td>" + values[1] + "</td><td>" + values[2] + " " + values[3] + "</td><td>" + values[4] + "</td><td>" + values[5] + "</td></tr>";
                }
				document.getElementById("employeeList").innerHTML = html;
			}
		};
    }
    function offTime() {
        r = "http://webtools.sanimatic.local:5001?q=offTime&sdate=" + document.getElementById("sdate").value + "&edate=" + document.getElementById("edate").value;
        console.log(r);
        
		var request = makeHttpObject();
		request.open("GET", r, true);
		request.send(null);
		request.onreadystatechange = function() {
            if (request.readyState == 4){
                const timekeeper = new Map();
                html = "<tr><th>Badge</th><th>Name</th><th>ES</th><th>EP</th></tr>";
                console.log(request.responseText);
                response = request.responseText;
                response = response.slice(2,response.length - 2);
                entries = response.split("], [");
                console.log(entries);
                for (let i = 0;i < entries.length; i++){
                    values = entries[i].split(", ");
                    if (timekeeper.has(values[0])){
                        o = timekeeper.get(values[0])
                        if (o.has(values[1])){
                            o.set(values[1],o.get(values[3]) + parseFloat(values[4]));
                        }
                        else{
                            o.set(values[3],parseFloat(values[4]));
                        }
                        timekeeper.set(values[0],o);
                    }
                    else{
                        o = new Map();
                        o.set('Name',values[1] + ' ' + values[2]);
                        o.set(values[3],parseFloat(values[4]));
                        timekeeper.set(values[0], o);
                    }
                }
                for (const [key, value] of timekeeper){
                    es = 0;
                    ep = 0;
                    if (value.has('ES'))
                        es = value.get('ES');
                    if (value.has('EP'))
                        ep = value.get('EP');
                    html = html + "<tr><td>" + key + "</td><td>" + value.get('Name') + "</td><td>" + es + "</td><td>" + ep + "</td></tr>";
                }
                //console.log(html)
				document.getElementById("time").innerHTML = html;
			}
		};
    }
    offTime();
  </script>
  <style>
    .ws-table-all tr:nth-child(even) {
    background-color: #E7E9EB;
    }
    .ws-table-all tr {
    border-bottom: 1px solid #ddd;
    }
    tr {
    color: black;
    background-color: white;
    display: table-row;
    }
    .ws-table-all {
    border-collapse: collapse;
    border-spacing: 0;
    width: 100%;
    display table;
    border: 1px solid #ccc;
    }
    .table-scrollable {
    height: 100%;
    overflow-y: auto;
    }
  </style>
</html>
